@model Frontend_12102025.Models.ViewModel.HomeProductVM
@using PagedList.Mvc
@{
    ViewBag.Title = "Customer HomePage";
    Layout = "~/Areas/Customer/Views/Shared/_Layout.cshtml";
}

<section class="banner" style="max-width:2304px;margin: 0 auto;">
    <div class="container">
        <div class="banner-container content">
            <h2>Chào mừng bạn đến với Bookora</h2>
            <p>Mua sách tốt giá hời ngay nào!</p>
        </div>
    </div>
</section>

@* Kiểm tra nếu có search term thì hiển thị kết quả search *@
@if (!string.IsNullOrEmpty(Model.SearchTerm))
{
    <section style="padding: 40px 0;">
        <div class="container">
            <h3 style="margin-bottom: 20px; font-size: 24px; color: #333;">
                Kết quả tìm kiếm cho: "<strong>@Model.SearchTerm</strong>"
            </h3>

            @Html.Partial("_PVSearch", Model.NewProducts)

            @* Pagination *@
            <div class="pagination-container" style="text-align: center; margin-top: 30px;">
                @Html.PagedListPager(Model.NewProducts,
                    page => Url.Action("Index", new { area = "Customer", SearchTerm = Model.SearchTerm, page }))
            </div>
        </div>
    </section>
}
else
{
    @* Hiển thị trang chủ bình thường khi không có search *@
    <div id="products">
        @Html.Partial("_PVFeatureProduct", Model)
    </div>

    <!-- Khoa học -->
    {
        ViewBag.CategoryName = "Khoa học";
    }
    @Html.Partial("_PVCategoryProducts", ViewBag.KhoaHocProducts as List<Frontend_12102025.Models.BookEdition>)

    <!-- Tâm lý học -->
    {
        ViewBag.CategoryName = "Tâm lý học";
    }
    @Html.Partial("_PVCategoryProducts", ViewBag.TamLyHocProducts as List<Frontend_12102025.Models.BookEdition>)

    <!-- Văn học -->
    {
        ViewBag.CategoryName = "Văn học";
    }
    @Html.Partial("_PVCategoryProducts", ViewBag.VanHocProducts as List<Frontend_12102025.Models.BookEdition>)

    <!-- Kinh tế -->
    {
        ViewBag.CategoryName = "Kinh tế";
    }
    @Html.Partial("_PVCategoryProducts", ViewBag.KinhTeProducts as List<Frontend_12102025.Models.BookEdition>)

    <!-- Self-Help -->
    {
        ViewBag.CategoryName = "Self-Help";
    }
    @Html.Partial("_PVCategoryProducts", ViewBag.SelfHelpProducts as List<Frontend_12102025.Models.BookEdition>)
}

@* Load JS *@
<script src="~/Scripts/Customer Script/Slider.js"></script>
